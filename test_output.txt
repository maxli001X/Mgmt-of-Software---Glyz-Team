Creating test database for alias 'default'...
/Users/hey/Documents/Cursor Projects/Tree Hole Yale/venv/lib/python3.14/site-packages/django/core/handlers/base.py:61: UserWarning: No directory at: /Users/hey/Documents/Cursor Projects/Tree Hole Yale/staticfiles/
  mw_instance = middleware(adapted_handler)
F.
======================================================================
FAIL: test_home_page_renders (posting.tests.test_feed.FeedViewTests.test_home_page_renders)
Test that home page renders for authenticated users.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/hey/Documents/Cursor Projects/Tree Hole Yale/posting/tests/test_feed.py", line 27, in test_home_page_renders
    self.assertContains(response, "Share Your Thoughts")
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: False is not true : Couldn't find 'Share Your Thoughts' in the following response
b'<!DOCTYPE html>\n<html lang="en">\n\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n    \n    <title>Tree Hole Yale</title>\n    <link rel="stylesheet" href="/static/css/styles.css">\n    <link rel="preconnect" href="https://fonts.googleapis.com">\n    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin">\n    <link\n        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap"\n        rel="stylesheet">\n    <script src="/static/js/home.js" defer></script>\n    <script src="/static/js/comments.js" defer></script>\n    <script src="/static/js/utils.js" defer></script>\n</head>\n\n<body>\n    <header>\n        <nav class="header-nav">\n            <a href="/" class="logo">Tree Hole Yale</a>\n\n            <!-- Inline Search Bar -->\n            <div class="header-search-container">\n                <form method="get" action="/" class="header-search-form">\n                    <div class="header-search-wrapper">\n                        <input type="text" name="q" placeholder="Search posts, classes, professors..."\n                            value="" class="header-search-input"\n                            id="header-search-input">\n                        <button type="submit" class="header-search-button" aria-label="Search">\n                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"\n                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                                <circle cx="11" cy="11" r="8"></circle>\n                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>\n                            </svg>\n                        </button>\n                    </div>\n                    <!-- Filter Dropdown Button -->\n                    <div class="header-filter-dropdown">\n                        <button type="button" class="header-filter-button" id="header-filter-button" aria-label="Filter"\n                            aria-expanded="false" aria-haspopup="true">\n                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"\n                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                                <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>\n                            </svg>\n                        </button>\n                        <div class="header-filter-menu" id="header-filter-menu" role="menu"\n                            aria-labelledby="header-filter-button" style="display: none;">\n                            <a href="/"\n                                class="filter-option active"\n                                role="menuitem">\n                                Recent\n                            </a>\n                            <a href="/?sort=trending"\n                                class="filter-option "\n                                role="menuitem">\n                                Trending\n                            </a>\n                        </div>\n                    </div>\n                    \n                    \n                    \n                </form>\n            </div>\n\n            <!-- Settings Dropdown -->\n            <div class="header-settings-container">\n                \n                <button type="button" class="header-settings-button" id="header-settings-button"\n                    aria-label="Profile & Settings" aria-expanded="false" aria-haspopup="true">\n                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"\n                        stroke-linecap="round" stroke-linejoin="round">\n                        <circle cx="12" cy="12" r="3"></circle>\n                        <path\n                            d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24">\n                        </path>\n                    </svg>\n                </button>\n                <div class="header-settings-menu" id="header-settings-menu" role="menu"\n                    aria-labelledby="header-settings-button" style="display: none;">\n                    <a href="/profile/my-posts/" class="settings-menu-item" role="menuitem">\n                        My Posts\n                    </a>\n                    <a href="/my-stats/" class="settings-menu-item" role="menuitem">\n                        My Stats\n                    </a>\n                    <a href="/profile/" class="settings-menu-item" role="menuitem">\n                        Profile & Settings\n                    </a>\n                    \n                </div>\n                \n            </div>\n        </nav>\n    </header>\n    <main>\n        \n<!-- CSRF Token for AJAX requests -->\n<input type="hidden" name="csrfmiddlewaretoken" value="GiWBEvnwIy47qWPPmmj1HpylDNqcQVwV2bONVMyHJixmbqei0IbLRy99Cga6sWED">\n<!-- Data attribute for JavaScript -->\n<div data-suggest-tags-url="/api/suggest-tags/" style="display:none;"></div>\n\n<!-- In-Page Sticky Navigation Bar -->\n<nav class="in-page-nav">\n    <div class="in-page-nav-container">\n        <a href="/"\n            class="in-page-nav-item active">\n            Home\n        </a>\n        <a href="/?view=create"\n            class="in-page-nav-item ">\n            Create Post\n        </a>\n        <a href="/?view=posts"\n            class="in-page-nav-item ">\n            All Posts\n        </a>\n    </div>\n</nav>\n\n<!-- Tag Filter Chips - REMOVED as per user request -->\n\n\n\n<!-- Post Creation Form (Always visible at top) -->\n<div id="create-post-section">\n    <section class="post-create-card">\n        <div class="card-header">\n            <!-- Avatar placeholder removed as per user request to delete \'v\' (likely the placeholder) -->\n            <button class="fake-input-wrapper"\n                onclick="document.getElementById(\'post-form-content\').style.display=\'block\'">\n                <span class="fake-input-title">Share Your Thought</span>\n                <span class="fake-input-subtitle">What\'s on your mind?</span>\n            </button>\n        </div>\n        <div id="post-form-content">\n            \n            <form method="post" class="post-form" id="post-form">\n                <input type="hidden" name="csrfmiddlewaretoken" value="GiWBEvnwIy47qWPPmmj1HpylDNqcQVwV2bONVMyHJixmbqei0IbLRy99Cga6sWED">\n\n                <div class="form-field">\n                    <label for="id_title">Title</label>\n                    <input type="text" name="title" class="form-input" maxlength="200" required id="id_title">\n                    \n                </div>\n\n                <div class="form-field">\n                    <label for="id_body">Post Content</label>\n                    <textarea name="body" cols="40" rows="4" class="form-textarea" placeholder="Share your thoughts... Use #hashtag to add tags!" required id="id_body">\n</textarea>\n                    \n                    <div id="hashtag-preview" class="hashtag-preview" style="display: none;">\n                        <span class="hashtag-preview-label">Detected tags:</span>\n                        <span id="hashtag-list" class="hashtag-list"></span>\n                    </div>\n                    <p class="form-help">\xf0\x9f\x92\xa1 Tip: Use #hashtag in your post to automatically add tags!</p>\n                </div>\n\n                <div class="form-field">\n                    <label for="id_tags_input">Tags</label>\n                    <input type="text" name="tags_input" class="form-input" placeholder="e.g., academics, campus-life, events" id="id_tags_input" aria-describedby="id_tags_input_helptext">\n                    \n                    \n                    <p class="form-help">Enter tags separated by commas, or use #hashtag in your post body</p>\n                    \n                </div>\n\n                <!-- Hidden original fields -->\n                <div style="display:none;">\n                    <input type="checkbox" name="is_anonymous" id="id_is_anonymous" checked>\n                    <input type="checkbox" name="post_as_identity" class="form-checkbox" id="id_post_as_identity">\n                </div>\n\n                <div class="form-options">\n                    <div class="identity-selector">\n                        <label class="identity-option-label">Post as:</label>\n                        <div class="identity-toggle-group">\n                            <label class="identity-radio">\n                                <input type="radio" name="identity_choice" value="anonymous" checked\n                                    onchange="updateIdentityState(this.value)">\n                                <span class="radio-label">Anonymous</span>\n                            </label>\n                            <label class="identity-radio">\n                                <input type="radio" name="identity_choice" value="profile"\n                                    onchange="updateIdentityState(this.value)">\n                                <span class="radio-label">Profile Identity</span>\n                            </label>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-actions">\n                    <button type="submit" class="submit-btn" id="submit-button">Post</button>\n                </div>\n            </form>\n            \n        </div>\n    </section>\n</div>\n\n<section id="posts-section" class="posts-feed">\n    <div class="posts-header">\n        <div>\n            <h2 style="margin: 0 0 1.5rem 0;">\n                \n                Recent Posts\n                \n            </h2>\n            \n        </div>\n        <div class="sort-controls">\n            <a href="/"\n                class="sort-button active">\n                Recent\n            </a>\n            <a href="/?sort=trending"\n                class="sort-button ">\n                Trending\n            </a>\n        </div>\n    </div>\n\n    \n    <div class="empty-state">\n        \n        <p class="empty-state-icon">\xf0\x9f\x93\x9d</p>\n        <h3>No posts yet</h3>\n        <p>Be the first to share your thoughts!</p>\n        \n    </div>\n    \n</section>\n\n<!-- Floating "Share Your Thought" Button (Visible on scroll) -->\n<button id="fab-share-thought" class="fab-share-thought" onclick="openPostModal()">\n    <span class="fab-icon">\xe2\x9c\x8d\xef\xb8\x8f</span>\n    <span class="fab-text">Share Your Thought</span>\n</button>\n\n<!-- Post Modal -->\n<div id="post-modal" class="post-modal" style="display: none;">\n    <div class="post-modal-content">\n        <div class="modal-header">\n            <h2>Create Post</h2>\n            <button class="close-modal" onclick="closePostModal()">\xe2\x9c\x95</button>\n        </div>\n        <div class="modal-body">\n            <!-- We will clone the form here via JS or just move it? \n                 Moving it might lose state. Let\'s just have a second form or move the form element.\n                 Actually, moving the form element is safer to preserve the form logic. -->\n            <div id="modal-form-container"></div>\n        </div>\n    </div>\n</div>\n\n\n    </main>\n\n    <!-- Mobile Bottom Navigation -->\n    <nav class="mobile-bottom-nav">\n        <a href="/"\n            class="mobile-nav-item active">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"\n                stroke-linecap="round" stroke-linejoin="round">\n                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>\n                <polyline points="9 22 9 12 15 12 15 22"></polyline>\n            </svg>\n            <span>Home</span>\n        </a>\n        <a href="/?view=create"\n            class="mobile-nav-item ">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"\n                stroke-linecap="round" stroke-linejoin="round">\n                <path d="M12 20h9"></path>\n                <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>\n            </svg>\n            <span>Post</span>\n        </a>\n        <a href="/profile/"\n            class="mobile-nav-item ">\n            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"\n                stroke-linecap="round" stroke-linejoin="round">\n                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>\n                <circle cx="12" cy="7" r="4"></circle>\n            </svg>\n            <span>Profile</span>\n        </a>\n    </nav>\n\n    <!-- Toast Notification Container -->\n    <div id="toast-container" class="toast-container"></div>\n\n    <!-- Floating Action Button (only on home page) -->\n    \n<!-- Old FAB removed -->\n\n\n    <!-- Toast notifications from Django messages -->\n    \n\n    <style>\n        /* Toast Notification Styles */\n        .toast-container {\n            position: fixed;\n            bottom: 24px;\n            left: 24px;\n            z-index: 9999;\n            display: flex;\n            flex-direction: column;\n            gap: 8px;\n            pointer-events: none;\n        }\n\n        .toast {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n            padding: 12px 20px;\n            background: #1b1b1b;\n            color: #fff;\n            border-radius: 8px;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            font-size: 0.9rem;\n            pointer-events: auto;\n            animation: slideIn 0.3s ease-out;\n            max-width: 320px;\n        }\n\n        .toast.success {\n            background: #059669;\n        }\n\n        .toast.error {\n            background: #dc2626;\n        }\n\n        .toast.warning {\n            background: #d97706;\n        }\n\n        .toast.info {\n            background: #00356b;\n        }\n\n        .toast-icon {\n            font-size: 1.1rem;\n        }\n\n        .toast-message {\n            flex: 1;\n        }\n\n        .toast-close {\n            background: none;\n            border: none;\n            color: rgba(255, 255, 255, 0.7);\n            cursor: pointer;\n            padding: 0;\n            font-size: 1.2rem;\n            line-height: 1;\n        }\n\n        .toast-close:hover {\n            color: #fff;\n        }\n\n        @keyframes slideIn {\n            from {\n                transform: translateX(-100%);\n                opacity: 0;\n            }\n\n            to {\n                transform: translateX(0);\n                opacity: 1;\n            }\n        }\n\n        @keyframes slideOut {\n            from {\n                transform: translateX(0);\n                opacity: 1;\n            }\n\n            to {\n                transform: translateX(-100%);\n                opacity: 0;\n            }\n        }\n\n        .toast.hiding {\n            animation: slideOut 0.3s ease-in forwards;\n        }\n\n        /* Floating Action Button */\n        .fab-container {\n            position: fixed;\n            bottom: 24px;\n            right: 24px;\n            z-index: 1000;\n            opacity: 0;\n            visibility: hidden;\n            transform: scale(0.8);\n            transition: all 0.3s ease;\n        }\n\n        .fab-container.visible {\n            opacity: 1;\n            visibility: visible;\n            transform: scale(1);\n        }\n\n        .fab-button {\n            width: 56px;\n            height: 56px;\n            border-radius: 50%;\n            background: #00356b;\n            color: #fff;\n            border: none;\n            cursor: pointer;\n            box-shadow: 0 4px 12px rgba(0, 53, 107, 0.3);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 1.5rem;\n            transition: all 0.2s;\n        }\n\n        .fab-button:hover {\n            background: #002a55;\n            transform: scale(1.05);\n            box-shadow: 0 6px 16px rgba(0, 53, 107, 0.4);\n        }\n\n        .fab-button:active {\n            transform: scale(0.95);\n        }\n\n        .fab-tooltip {\n            position: absolute;\n            right: 68px;\n            top: 50%;\n            transform: translateY(-50%);\n            background: #1b1b1b;\n            color: #fff;\n            padding: 8px 12px;\n            border-radius: 6px;\n            font-size: 0.85rem;\n            white-space: nowrap;\n            opacity: 0;\n            visibility: hidden;\n            transition: all 0.2s;\n        }\n\n        .fab-container:hover .fab-tooltip {\n            opacity: 1;\n            visibility: visible;\n        }\n\n        @media (max-width: 600px) {\n            .toast-container {\n                left: 12px;\n                right: 12px;\n                bottom: 12px;\n            }\n\n            .toast {\n                max-width: none;\n            }\n\n            .fab-container {\n                bottom: 16px;\n                right: 16px;\n            }\n\n            .fab-button {\n                width: 48px;\n                height: 48px;\n                font-size: 1.25rem;\n            }\n\n            .fab-tooltip {\n                display: none;\n            }\n        }\n    </style>\n\n    <!-- Toast notifications from Django messages -->\n    \n</body>\n\n</html>'

----------------------------------------------------------------------
Ran 2 tests in 0.375s

FAILED (failures=1)
Destroying test database for alias 'default'...
Found 2 test(s).
System check identified no issues (0 silenced).
