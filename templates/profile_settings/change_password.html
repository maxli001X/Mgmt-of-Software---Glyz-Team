{% extends "base.html" %}

{% block title %}Change Password · Tree Hole Yale{% endblock title %}

{% block content %}
<section>
    <div style="margin-bottom: 1.5rem;">
        <a href="{% url 'profile_settings:settings' %}" style="color: #00356b; text-decoration: none; font-weight: 600;">
            ← Back to Settings
        </a>
    </div>
    
    <h1>Change Password</h1>
    
    <div class="auth-container">
        <form method="post" class="auth-form">
            {% csrf_token %}
            
            {% if form.non_field_errors %}
                <ul class="errorlist">
                    {% for error in form.non_field_errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
            
            <div class="form-group">
                <label for="{{ form.old_password.id_for_label }}" class="form-label">
                    Current Password
                </label>
                <input 
                    type="password" 
                    name="old_password" 
                    id="{{ form.old_password.id_for_label }}" 
                    class="form-input" 
                    required
                    autocomplete="current-password"
                >
                {% if form.old_password.errors %}
                    <ul class="errorlist">
                        {% for error in form.old_password.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.new_password1.id_for_label }}" class="form-label">
                    New Password
                </label>
                <input 
                    type="password" 
                    name="new_password1" 
                    id="{{ form.new_password1.id_for_label }}" 
                    class="form-input" 
                    required
                    autocomplete="new-password"
                >
                {% if form.new_password1.errors %}
                    <ul class="errorlist">
                        {% for error in form.new_password1.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                {% if form.new_password1.help_text %}
                    <p class="form-help">{{ form.new_password1.help_text }}</p>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.new_password2.id_for_label }}" class="form-label">
                    Confirm New Password
                </label>
                <input 
                    type="password" 
                    name="new_password2" 
                    id="{{ form.new_password2.id_for_label }}" 
                    class="form-input" 
                    required
                    autocomplete="new-password"
                >
                {% if form.new_password2.errors %}
                    <ul class="errorlist">
                        {% for error in form.new_password2.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>
            
            <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                <button type="submit" class="auth-submit">Change Password</button>
                <a href="{% url 'profile_settings:settings' %}" class="button-secondary">Cancel</a>
            </div>
        </form>
    </div>
</section>

<style>
.button-secondary {
    display: inline-block;
    padding: 0.875rem 1.5rem;
    background: #fff;
    color: #00356b;
    text-decoration: none;
    border: 2px solid #00356b;
    border-radius: 6px;
    font-weight: 600;
    transition: all 0.2s;
    text-align: center;
}

.button-secondary:hover {
    background: #f6f7fb;
}
</style>
{% endblock content %}

